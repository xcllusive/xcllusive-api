files:
  /etc/nginx/conf.d/https.conf:
    mode: "000644"
    owner: root
    group: root
    content: |
      # HTTPS Server
      
      server {
        listen 443;
        server_name mercury-api.xcllusive.com.au;
        
        ssl on;
        ssl_certificate /etc/pki/tls/certs/server.crt;
        ssl_certificate_key /etc/pki/tls/certs/server.key;
        
        ssl_session_timeout 5m;
        
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_prefer_server_ciphers on;
        
        location / {
          proxy_pass http://docker;
          proxy_http_version 1.1;
          
          proxy_set_header Connection "";
          proxy_set_header Host $host;
          proxy_set_header X-Real-IP $remote_addr;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          proxy_set_header X-Forwarded-Proto https;
        }
      }
      
  /etc/pki/tls/certs/server.crt:
    mode: "000400"
    owner: root
    group: root
    content: |
      -----BEGIN CERTIFICATE-----
      MIIFXDCCBESgAwIBAgISAzmHL29hH5wfa3VZKJLDvlfZMA0GCSqGSIb3DQEBCwUA
      MEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQD
      ExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0xOTA1MjkxMTE4MzFaFw0x
      OTA4MjcxMTE4MzFaMB0xGzAZBgNVBAMMEioueGNsbHVzaXZlLmNvbS5hdTCCASIw
      DQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANACN3reFVyry658y1coy8MxaNCJ
      MEykPhG6JMddHfzGk5Yfp7VwOXDe71VE9OVw+HDMUtjsALBuWb7rpWszcO2J2N7q
      0/al65VwMPGwojiPNdXNbenPHjXKBVR+d/cfsNV3cw51FtKcs8L5GOFlqP0E9qnl
      q2txuZ8O+mPhuNkUAeli/CiuSKXu77Fh37CrAver8MGW5FbkZ8ztLeH0LNbDiAB9
      RdcMrEytXAw0wAnOz4SbO3MtQ07MIg3cXFy+39B3x4JEmJDhMXFEYe7rtVTq4MHH
      E9mo+dQkYWn2scaKDNRmQNGNV8PnfIOQukVO+GFmXw+0qr+k1C61PdPmGQcCAwEA
      AaOCAmcwggJjMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYI
      KwYBBQUHAwIwDAYDVR0TAQH/BAIwADAdBgNVHQ4EFgQUYnXO9SWHp1UgapBKKLQd
      WkGXZlcwHwYDVR0jBBgwFoAUqEpqYwR93brm0Tm3pkVl7/Oo7KEwbwYIKwYBBQUH
      AQEEYzBhMC4GCCsGAQUFBzABhiJodHRwOi8vb2NzcC5pbnQteDMubGV0c2VuY3J5
      cHQub3JnMC8GCCsGAQUFBzAChiNodHRwOi8vY2VydC5pbnQteDMubGV0c2VuY3J5
      cHQub3JnLzAdBgNVHREEFjAUghIqLnhjbGx1c2l2ZS5jb20uYXUwTAYDVR0gBEUw
      QzAIBgZngQwBAgEwNwYLKwYBBAGC3xMBAQEwKDAmBggrBgEFBQcCARYaaHR0cDov
      L2Nwcy5sZXRzZW5jcnlwdC5vcmcwggEEBgorBgEEAdZ5AgQCBIH1BIHyAPAAdgDi
      aUuuJujpQAnohhu2O4PUPuf+dIj7pI8okwGd3fHb/gAAAWsDhw+mAAAEAwBHMEUC
      IQDMFJhnYRtLBTNZPoNGo6RgOsNA6uVcF2vMdrrqivSh2gIgN6DgV9BgKmavsQb7
      J+mFm24wIiZiM8srJUoNc42IEqEAdgBj8tvN6DvMLM8LcoQnV2szpI1hd4+9daY4
      scdoVEvYjQAAAWsDhw/KAAAEAwBHMEUCIQCpSvphRtsIi9rmiPAwHjkFzbOR/EmB
      /fz9cwv5Sa1uPwIgOZdFleBEmlCmhhHgV704PuFGexLXenNI1OhcM4rwbsEwDQYJ
      KoZIhvcNAQELBQADggEBAA7BG2Lp2uYIUQlYGNWAo86IJEaMfnoYDm9MBCT0BT1k
      JSXe+FIpZlB2M1AW0FN3yTMsJ2bZpyTMWgrbyS3Z0avJE0wlkna2lA69sfQghq8v
      ur9kBurstSvqzmiQVInjS1L3d1Bj6+tnz84z1ta+n9F68bD5O/OL+uQrVQwlr92Y
      60yRT1p3pzXmuvJi5amiieFdM0t9f3PeDRWOckqVvsRaQLZDM0kvJYBRgB1aMKiO
      k1w2ewQM59z9zevfbCix6WBMvDZ6RjTRmMuDOnyFd0MQLc30w+CG/aT1+CQU8Xk5
      kU1JP3UgJaswPFck88Hw3lf0es2PNdeYByps2j8Omgw=
      -----END CERTIFICATE-----
      -----BEGIN CERTIFICATE-----
      MIIEkjCCA3qgAwIBAgIQCgFBQgAAAVOFc2oLheynCDANBgkqhkiG9w0BAQsFADA/
      MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMT
      DkRTVCBSb290IENBIFgzMB4XDTE2MDMxNzE2NDA0NloXDTIxMDMxNzE2NDA0Nlow
      SjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMT
      GkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMIIBIjANBgkqhkiG9w0BAQEFAAOC
      AQ8AMIIBCgKCAQEAnNMM8FrlLke3cl03g7NoYzDq1zUmGSXhvb418XCSL7e4S0EF
      q6meNQhY7LEqxGiHC6PjdeTm86dicbp5gWAf15Gan/PQeGdxyGkOlZHP/uaZ6WA8
      SMx+yk13EiSdRxta67nsHjcAHJyse6cF6s5K671B5TaYucv9bTyWaN8jKkKQDIZ0
      Z8h/pZq4UmEUEz9l6YKHy9v6Dlb2honzhT+Xhq+w3Brvaw2VFn3EK6BlspkENnWA
      a6xK8xuQSXgvopZPKiAlKQTGdMDQMc2PMTiVFrqoM7hD8bEfwzB/onkxEz0tNvjj
      /PIzark5McWvxI0NHWQWM6r6hCm21AvA2H3DkwIDAQABo4IBfTCCAXkwEgYDVR0T
      AQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwfwYIKwYBBQUHAQEEczBxMDIG
      CCsGAQUFBzABhiZodHRwOi8vaXNyZy50cnVzdGlkLm9jc3AuaWRlbnRydXN0LmNv
      bTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9k
      c3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAw
      VAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcC
      ARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAz
      MDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwu
      Y3JsMB0GA1UdDgQWBBSoSmpjBH3duubRObemRWXv86jsoTANBgkqhkiG9w0BAQsF
      AAOCAQEA3TPXEfNjWDjdGBX7CVW+dla5cEilaUcne8IkCJLxWh9KEik3JHRRHGJo
      uM2VcGfl96S8TihRzZvoroed6ti6WqEBmtzw3Wodatg+VyOeph4EYpr/1wXKtx8/
      wApIvJSwtmVi4MFU5aMqrSDE6ea73Mj2tcMyo5jMd6jmeWUHK8so/joWUoHOUgwu
      X4Po1QYz+3dszkDqMp4fklxBwXRsW10KXzPMTZ+sOPAveyxindmjkW8lGy+QsRlG
      PfZ+G6Z6h7mjem0Y+iWlkYcV4PIWL1iwBi8saCbGS5jN2p8M+X+Q7UNKEkROb3N6
      KOqkqm57TH2H3eDJAkSnh6/DNFu0Qg==
      -----END CERTIFICATE-----
      
  /etc/pki/tls/certs/server.key:
    mode: "000400"
    owner: root
    group: root
    content: |
      -----BEGIN PRIVATE KEY-----
      MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDQAjd63hVcq8uu
      fMtXKMvDMWjQiTBMpD4RuiTHXR38xpOWH6e1cDlw3u9VRPTlcPhwzFLY7ACwblm+
      66VrM3Dtidje6tP2peuVcDDxsKI4jzXVzW3pzx41ygVUfnf3H7DVd3MOdRbSnLPC
      +RjhZaj9BPap5atrcbmfDvpj4bjZFAHpYvworkil7u+xYd+wqwL3q/DBluRW5GfM
      7S3h9CzWw4gAfUXXDKxMrVwMNMAJzs+EmztzLUNOzCIN3Fxcvt/Qd8eCRJiQ4TFx
      RGHu67VU6uDBxxPZqPnUJGFp9rHGigzUZkDRjVfD53yDkLpFTvhhZl8PtKq/pNQu
      tT3T5hkHAgMBAAECggEBAJRA4DYMT4FrWJKWk38dro0CjEgFX41ginSsDUai0Zq2
      Fb6r9SZWRDp0SnSl3z4g1JHgrzO4kY0uOXzgC1hqo5RJ6W6IRGbJPy2VduzsDdLu
      D1rBPhOk8U05Ha9pLCvQRIMAzdqCDbAyy9StIdSUVmtvvDa/YPwFZF0/marS2KKu
      XM4OVS+A6/1OUkjKl764TQgKlUErdpO1ILkiIEH+pZm+Q2F1Z11QOvLFqHedc/Nx
      8h8Q2V/JNQhXwelkXI1ppzR5QqzvO4cbps35dnvIikaCeQIWEmo4mbftK1K92xeG
      DUMN9FS8LgD6jdCvy5n7NuRbcBk2j+/Gle4jhYcY30ECgYEA7eOofSaz1gW0Vkwr
      fIrD5r08fG2XwHkdoHUwEbTIH1DrM3XSyZIDtq4M3Eja+wjTO3Za8lu5j9pFr2Co
      YqvMOD5IgRxtcrPxOFRXBSjm8OO2G+gVBpeegh01fvvu8IvZAzLxc9nmcxhby+Vb
      MrBNSUxEg0ixL43VE60qE+SGCNcCgYEA39gzP9mTFgCIYeoUdZPjQNZDOshsUMdz
      NS8Zx6G1Bt4B0siuL5Hi9JKkmk3j7XIof/rmMU1d/kSnMBSnYC4c/pd59Wo/UjMN
      sITImInTJTw57zDMdGbX3CCxgW8nIHbJK4RNuidzfeyIJ/JDGRrWxtwe+SOWtNlR
      iOgWz9zye1ECgYEApGzAnpBLqNiUhzlqrVB0i12tGwvc4epU8f1N1k8wK4UQrKb5
      pN1Jt9ChjvjEctLsvaLWxcFkhuuFUuzqNhkstItILgVqGOgLCLYy15wn08RwsOU+
      8ymFI8Xwne6gfp8Kxk1F2p93y4HAoTPMT0LQiKMwj9WEsqvD5S/Bb7J6ek0CgYEA
      lAv5MWSkjGvDyAa6i11Jc2uCwZEnWnHft7A0O72u7iDNUezaj6nMUnfemBOmCTh0
      oth9gOQro20iqoEuhkVZdeUXi4I+6Q3NIw9fYMvfM4RWyOUchGw0nmmdHP84AJev
      y7FQeyt2jjVvhAQN7r+6h4G0lpC8L1aAP61I0SfP1FECgYBmukjxqd6sI2vbyPYE
      mxPbK7oQTEsRUwNs6Rtdt+ty40xyYX0b6esqXPK8zxA5+idMrrH7cCtBwyaFthyd
      PyzhM+s1fK9oi4ywr/yt/uLTC36U1yzxcHdRKh5gwa9i/Ac36FYy24eVo8cZJVVd
      08RBYbagtT1BxlL1Uq8Zcew1xQ==
      -----END PRIVATE KEY-----
